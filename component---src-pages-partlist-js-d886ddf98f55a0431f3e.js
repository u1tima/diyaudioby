(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"2hbw":function(e,t,n){e.exports={caption:"Caption-module--caption--3luev"}},"nsf/":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),i=n("ra4U"),c=n("758n"),u=n("ibge"),o=n("/MKj"),l=(n("f3/d"),n("91GP"),n("dRSK"),n("QxVw")),m=n("Ny2c"),s=n("Ix92"),d=n("DIrH"),f=n("Ni52"),p=n("rDU3"),P=n.n(p),E=Object(o.b)((function(e){return{cart:e.cart}}),(function(e){return{onAddToCart:function(t){return e(Object(f.a)(t))},onRefreshCart:function(t){return e(Object(f.c)(t))},onDeleteFromCart:function(t){return e(Object(f.b)(t))}}}))((function(e){var t=e.cart,n=e.part,i=e.onAddToCart,c=e.onRefreshCart,u=e.onDeleteFromCart,o=n.comp,f=n.asmQnt,p=o.minOrder,E=o.sellPrice,v=t.find((function(e){return e.id===o.id})),C={orderQnt:v?v.orderQnt:0,unitPrice:v?v.unitPrice:0,totalPrice:v?v.totalPrice:0,inCart:!!v},b=Object(a.useState)(C),q=b[0],y=b[1],h=function(){if(q.orderQnt>0){y((function(e){return Object.assign({},e,{inCart:!0})})),i(Object.assign({},o,{},q,{inCart:!0}))}},Q=function(){q.orderQnt>0&&c(Object.assign({},o,{},q))},O=function(){y({orderQnt:0,unitPrice:0,totalPrice:0,inCart:!1}),u(o)},g=function(e){if(e<=0)return 0;var t=E[0].unitPrice;return E.forEach((function(n){e>=n.qnt&&(t=n.unitPrice)})),t};return r.a.createElement("tr",null,r.a.createElement("td",null,n.position),r.a.createElement("td",null,r.a.createElement("div",null,o.name),r.a.createElement("div",null,o.manufacture.name)),r.a.createElement("td",null,r.a.createElement(s.a,{icon:"cog",size:"lg"})),r.a.createElement("td",null,r.a.createElement("div",{className:P.a.asmQnt,onClick:function(){var e=f,t=g(e),n=e*t;y((function(a){return Object.assign({},a,{orderQnt:e,unitPrice:t,totalPrice:n})}))}},f)),r.a.createElement("td",{className:P.a.price},E.map((function(e,t){return r.a.createElement("div",{key:t,className:P.a.row},r.a.createElement("div",{className:P.a.item,onClick:function(){return function(e){var t=E[e].qnt,n=E[e].unitPrice,a=t*n;y((function(e){return Object.assign({},e,{orderQnt:t,unitPrice:n,totalPrice:a})}))}(t)}},e.qnt+"+"),r.a.createElement("div",null,e.unitPrice.toFixed(2)+" р"))}))),r.a.createElement("td",{className:P.a.control},r.a.createElement(d.a,{size:"sm",step:p,value:q.orderQnt,onChange:function(e){var t=+e<=0?0:+e,n=g(t),a=t*n;y((function(e){return Object.assign({},e,{orderQnt:t,unitPrice:n,totalPrice:a})}))},onBlur:function(e){var t=+e.target.value,n=Math.ceil(t/p)*p,a=g(n),r=n*a;y((function(e){return Object.assign({},e,{orderQnt:n,unitPrice:a,totalPrice:r})}))}})),r.a.createElement("td",null,q.totalPrice," p"),q.inCart?r.a.createElement("td",null,r.a.createElement("div",{className:P.a.buttons},r.a.createElement(m.a,{onClick:Q,size:"sm",color:"green",icon:r.a.createElement(s.a,{icon:"refresh"})}),r.a.createElement(m.a,{onClick:O,size:"sm",color:"red",icon:r.a.createElement(s.a,{icon:"close"})}))):r.a.createElement("td",null,r.a.createElement(l.a,{size:"sm",appearance:"primary",onClick:h},"В корзину")))})),v=n("2hbw"),C=n.n(v),b=function(e){var t=e.caption;return r.a.createElement("tr",null,r.a.createElement("td",{className:C.a.caption,colSpan:"8"},t.name))},q=Object(o.b)((function(e){return{cart:e.cart}}))((function(e){e.cart;var t=e.project.partlist;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Позиция"),r.a.createElement("th",null,"Наименование"),r.a.createElement("th",null,"Инфо"),r.a.createElement("th",null,"Кол-во"),r.a.createElement("th",{style:{width:"100px"}},"Цена"),r.a.createElement("th",{style:{width:"85px"}},"Заказ"),r.a.createElement("th",{style:{width:"60px"}},"Сумма"),r.a.createElement("th",{style:{width:"105px"}}))),r.a.createElement("tbody",null,t.map((function(e,t){return"part"===e.type?r.a.createElement(E,{part:e,key:t}):r.a.createElement(b,{caption:e,key:t})}))))})),y={name:"PSL-3604",partlist:[{type:"caption",name:"Конденсаторы SMD 0805 Yageo CC0805 (кратно 10 шт)"},{type:"part",position:"OUT: C33, C34",asmQnt:2,comp:{id:100,name:"Panasonic FC 100uF x 16V",partNumber:"EEUFC1C101",body:"",manufacture:{id:12,name:"Panasonic"},category:{id:123,name:"Электролиты"},techData:[{name:"Серия",value:"FC",units:"",factor:0},{name:"Емкость",value:100,units:"uF",factor:1e-6},{name:"Напряжение",value:16,units:"V",factor:0},{name:"Полярность",value:"Bipolar",units:"",factor:0},{name:"Диаметр",value:6.3,units:"мм",factor:0},{name:"Высота",value:12,units:"мм",factor:0},{name:"Шаг",value:2.5,units:"мм",factor:0}],storaqe:[{id:1,name:"C-23",qnt:230},{id:23,name:"B-29",qnt:12}],stockQnt:242,sellPrice:[{qnt:1,unitPrice:20},{qnt:10,unitPrice:15},{qnt:25,unitPrice:10}],buyPrice:40,priceStory:[{date:"12-03-2007",qnt:100,unitPrice:1},{date:"12-03-2007",qnt:100,unitPrice:10}],minOrder:1}},{type:"part",position:"OUT: C22...C34",asmQnt:12,comp:{id:200,name:"Panasonic FC 220uF x 16V",partNumber:"EEUFC1C101",body:"TH",manufacture:{id:12,name:"Panasonic"},category:{id:123,name:"Электролиты"},techData:[{name:"Серия",value:"FC",units:"",factor:0},{name:"Емкость",value:220,units:"uF",factor:1e-6},{name:"Напряжение",value:16,units:"V",factor:0},{name:"Полярность",value:"Bipolar",units:"",factor:0},{name:"Диаметр",value:6.3,units:"мм",factor:0},{name:"Высота",value:12,units:"мм",factor:0},{name:"Шаг",value:2.5,units:"мм",factor:0}],storaqe:[{id:1,name:"C-23",qnt:230},{id:23,name:"B-29",qnt:12}],stockQnt:242,sellPrice:[{qnt:1,unitPrice:20},{qnt:10,unitPrice:15},{qnt:25,unitPrice:10}],buyPrice:40,priceStory:[{date:"12-03-2007",qnt:100,unitPrice:1},{date:"12-03-2007",qnt:100,unitPrice:10}],minOrder:1}},{type:"caption",name:"Резисторы SMD 1206 Yageo (кратно 10 шт)"},{type:"part",position:"R22, R23",asmQnt:22,comp:{id:300,name:"RES SMD 22k Ohm 1% 1/4W 1206",partNumber:"RC1206FR-0722KL",body:"",manufacture:{id:12,name:"Yageo"},category:{id:123,name:"Электролиты"},techData:[{name:"Серия",value:"FC",units:"",factor:0},{name:"Емкость",value:100,units:"uF",factor:1e-6},{name:"Напряжение",value:16,units:"V",factor:0},{name:"Полярность",value:"Bipolar",units:"",factor:0},{name:"Диаметр",value:6.3,units:"мм",factor:0},{name:"Высота",value:12,units:"мм",factor:0},{name:"Шаг",value:2.5,units:"мм",factor:0}],storaqe:[{id:1,name:"C-23",qnt:230},{id:23,name:"B-29",qnt:12}],stockQnt:242,sellPrice:[{qnt:1,unitPrice:20},{qnt:10,unitPrice:15},{qnt:25,unitPrice:10}],buyPrice:40,priceStory:[{date:"12-03-2007",qnt:100,unitPrice:1},{date:"12-03-2007",qnt:100,unitPrice:10}],minOrder:1}},{type:"part",position:"R17, R18 - R20",asmQnt:3,comp:{id:400,name:"RES SMD 100k Ohm 1% 1/4W 1206",partNumber:"RC1206FR-07100KL",body:"TH",manufacture:{id:12,name:"Yageo"},category:{id:123,name:"Резисторы"},techData:[{name:"Серия",value:"FC",units:"",factor:0},{name:"Емкость",value:220,units:"uF",factor:1e-6},{name:"Напряжение",value:16,units:"V",factor:0},{name:"Полярность",value:"Bipolar",units:"",factor:0},{name:"Диаметр",value:6.3,units:"мм",factor:0},{name:"Высота",value:12,units:"мм",factor:0},{name:"Шаг",value:2.5,units:"мм",factor:0}],storaqe:[{id:1,name:"C-23",qnt:230},{id:23,name:"B-29",qnt:12}],stockQnt:242,sellPrice:[{qnt:1,unitPrice:20},{qnt:10,unitPrice:15},{qnt:25,unitPrice:10}],buyPrice:40,priceStory:[{date:"12-03-2007",qnt:100,unitPrice:1},{date:"12-03-2007",qnt:100,unitPrice:10}],minOrder:1}}]};t.default=function(){return r.a.createElement(i.a,null,r.a.createElement(c.a,{side:"left"}),r.a.createElement(u.a,null,r.a.createElement("h4",null,"Part List"),r.a.createElement(q,{project:y})))}},rDU3:function(e,t,n){e.exports={price:"Part-module--price--2rT8r",row:"Part-module--row--75l2a",asmQnt:"Part-module--asmQnt--1eKMm",item:"Part-module--item--3SDi3",control:"Part-module--control--3Qf-b",buttons:"Part-module--buttons--3hMEy"}}}]);
//# sourceMappingURL=component---src-pages-partlist-js-d886ddf98f55a0431f3e.js.map