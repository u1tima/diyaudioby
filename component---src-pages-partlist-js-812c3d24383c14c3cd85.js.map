{"version":3,"sources":["webpack:///./src/components/PartList/PartList.module.css","webpack:///./src/components/Caption/Caption.module.css","webpack:///./src/images/projects/psl-3604/psl-3604_view.jpg","webpack:///./src/components/Part/Part.js","webpack:///./src/components/Caption/Caption.js","webpack:///./src/components/PartList/PartList.js","webpack:///./src/data/database/partlist.js","webpack:///./src/pages/partlist.js","webpack:///./src/components/Part/Part.module.css"],"names":["module","exports","connect","state","cart","dispatch","onAddToCart","comp","addToCart","onRefreshCart","refreshCart","onDeleteFromCart","deleteFromCart","part","asmQnt","minOrder","sellPrice","product","find","id","initialState","orderQnt","unitPrice","totalPrice","inCart","useState","setState","btnAddToCartClick","btnRefreshCart","btnDeleteFromCart","getPrice","forEach","item","qnt","position","name","manufacture","Icon","icon","size","className","css","onClick","price","map","index","key","row","qntClick","toFixed","control","InputNumber","step","value","onChange","onBlur","event","target","Math","ceil","buttons","IconButton","color","Button","appearance","Caption","caption","colSpan","PartList","partlist","project","kitPrice","reduce","acc","val","type","info","projectImage","src","alt","projectData","style","partNumber","body","category","techData","units","factor","storaqe","stockQnt","buyPrice","priceStory","date","side"],"mappings":"gFACAA,EAAOC,QAAU,CAAC,KAAO,+BAA+B,aAAe,uCAAuC,YAAc,sCAAsC,MAAQ,gCAAgC,IAAM,8BAA8B,OAAS,iCAAiC,KAAO,+BAA+B,QAAU,kCAAkC,QAAU,oC,uBCApXD,EAAOC,QAAU,CAAC,QAAU,mC,uBCD5BD,EAAOC,QAAU,IAA0B,6D,qOCwK5BC,eAdS,SAAAC,GACtB,MAAO,CACLC,KAAMD,EAAMC,SAIW,SAAAC,GACzB,MAAO,CACLC,YAAa,SAAAC,GAAI,OAAIF,EAASG,YAAUD,KACxCE,cAAe,SAAAF,GAAI,OAAIF,EAASK,YAAYH,KAC5CI,iBAAkB,SAAAJ,GAAI,OAAIF,EAASO,YAAeL,QAIvCL,EAlKF,SAAC,GAAkE,IAAhEE,EAA+D,EAA/DA,KAAMS,EAAyD,EAAzDA,KAAMP,EAAmD,EAAnDA,YAAaG,EAAsC,EAAtCA,cAAeE,EAAuB,EAAvBA,iBAE9CJ,EAAiBM,EAAjBN,KAAMO,EAAWD,EAAXC,OACNC,EAAwBR,EAAxBQ,SAAUC,EAAcT,EAAdS,UAEZC,EAAUb,EAAKc,MAAK,SAAAD,GAAO,OAAIA,EAAQE,KAAOZ,EAAKY,MAEnDC,EAAe,CACnBC,SAAUJ,EAAUA,EAAQI,SAAW,EACvCC,UAAWL,EAAUA,EAAQK,UAAY,EACzCC,WAAYN,EAAUA,EAAQM,WAAa,EAC3CC,SAAUP,GAXiE,EAcnDQ,mBAASL,GAA5BjB,EAdsE,KAc/DuB,EAd+D,KAgBvEC,EAAoB,WACxB,GAAIxB,EAAMkB,SAAW,EAAG,CAGpBK,GAAS,SAAAvB,GAAK,wBAAUA,EAAV,CAAiBqB,QAFlB,OAGblB,EAAY,OAAD,UAAMC,EAAN,GAAeJ,EAAf,CAAsBqB,QAHpB,OAYbI,EAAiB,WACjBzB,EAAMkB,SAAW,GACnBZ,EAAc,OAAD,UAAMF,EAAN,GAAeJ,KAG1B0B,EAAoB,WAKxBH,EAAS,CAAEL,SAJM,EAIIC,UAHH,EAGcC,WAFb,EAEyBC,QAD7B,IAEfb,EAAiBJ,IAGbuB,EAAW,SAACT,GAChB,GAAIA,GAAY,EAAG,OAAO,EAC1B,IAAIC,EAAYN,EAAU,GAAGM,UAI7B,OAHAN,EAAUe,SAAQ,SAAAC,GACZX,GAAYW,EAAKC,MAAKX,EAAYU,EAAKV,cAEtCA,GAiDT,OACE,4BACE,4BACGT,EAAKqB,UAGR,4BACE,6BAAM3B,EAAK4B,MACX,6BAAM5B,EAAK6B,YAAYD,OAGzB,4BACE,kBAACE,EAAA,EAAD,CAAMC,KAAK,MAAMC,KAAK,QAGxB,4BACE,yBAAKC,UAAWC,IAAI3B,OAAQ4B,QAvDd,WAClB,IAAMrB,EAAWP,EACXQ,EAAYQ,EAAST,GACrBE,EAAaF,EAAWC,EAC9BI,GAAS,SAAAvB,GAAK,wBAAUA,EAAV,CAAiBkB,WAAUC,YAAWC,oBAoD7CT,IAIL,wBAAI0B,UAAWC,IAAIE,OAChB3B,EAAU4B,KAAI,SAACZ,EAAMa,GAAP,OACb,yBAAKC,IAAKD,EAAOL,UAAWC,IAAIM,KAC9B,yBAAKP,UAAWC,IAAIT,KAAMU,QAAS,kBAtE5B,SAACG,GAChB,IAAMxB,EAAWL,EAAU6B,GAAOZ,IAC5BX,EAAYN,EAAU6B,GAAOvB,UAC7BC,EAAaF,EAAWC,EAC9BI,GAAS,SAAAvB,GAAK,wBAAUA,EAAV,CAAiBkB,WAAUC,YAAWC,kBAkEHyB,CAASH,KAAYb,EAAKC,IAAnE,KACA,6BAASD,EAAKV,UAAU2B,QAAQ,GAAhC,WAKN,wBAAIT,UAAWC,IAAIS,SACjB,kBAACC,EAAA,EAAD,CACEZ,KAAK,KACLa,KAAMrC,EACNsC,MAAOlD,EAAMkB,SACbiC,SAnEgB,SAACD,GACvB,IAAMhC,GAAagC,GAAS,EAAK,GAAKA,EAChC/B,EAAYQ,EAAST,GACrBE,EAAaF,EAAWC,EAC9BI,GAAS,SAAAvB,GAAK,wBAAUA,EAAV,CAAiBkB,WAAUC,YAAWC,mBAgE9CgC,OA7Dc,SAACC,GACrB,IAAMH,GAASG,EAAMC,OAAOJ,MACtBhC,EAAWqC,KAAKC,KAAKN,EAAQtC,GAAYA,EACzCO,EAAYQ,EAAST,GACrBE,EAAaF,EAAWC,EAC9BI,GAAS,SAAAvB,GAAK,wBAAUA,EAAV,CAAiBkB,WAAUC,YAAWC,sBA2DlD,4BACGpB,EAAMoB,WADT,MAICpB,EAAMqB,OAnDT,4BACE,yBAAKgB,UAAWC,IAAImB,SAClB,kBAACC,EAAA,EAAD,CAAYnB,QAASd,EAAgBW,KAAK,KAAKuB,MAAM,QAAQxB,KAAM,kBAACD,EAAA,EAAD,CAAMC,KAAK,cAC9E,kBAACuB,EAAA,EAAD,CAAYnB,QAASb,EAAmBU,KAAK,KAAKuB,MAAM,MAAMxB,KAAM,kBAACD,EAAA,EAAD,CAAMC,KAAK,cAXnF,4BACE,kBAACyB,EAAA,EAAD,CAAQxB,KAAK,KAAKyB,WAAW,UAAUtB,QAASf,GAAhD,kB,qBCjFSsC,EANC,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAH,OACd,4BACE,wBAAI1B,UAAWC,IAAIyB,QAASC,QAAQ,KAAKD,EAAQ/B,Q,0CC8DtCiC,EA7DE,SAAC,GAAiB,IAEzBC,EAFwB,EAAdC,QAEVD,SAUFE,EAAWF,EAASG,QAAO,SAACC,EAAKC,GACrC,GAAiB,YAAbA,EAAIC,KAAoB,OAAOF,EAAM,EADI,IAErC3D,EAAW4D,EAAX5D,OAIR,OAAO2D,EADgB3D,EAbR,SAACA,EAAQE,GACxB,IAAIM,EAAYN,EAAU,GAAGM,UAI7B,OAHAN,EAAUe,SAAQ,SAAAC,GACZlB,GAAUkB,EAAKC,MAAKX,EAAYU,EAAKV,cAEpCA,EAOOQ,CAAShB,EADD4D,EAAInE,KAAlBS,aAIP,GAEH,OACE,oCACE,yBAAKwB,UAAWC,IAAImC,MAClB,yBAAKpC,UAAWC,IAAIoC,aAAcC,IAAKA,IAAKC,IAAI,KAChD,yBAAKvC,UAAWC,IAAIuC,aAClB,qDACA,yCACA,6CACA,uCACA,gDAAsBT,EAAtB,QAGJ,+BACE,+BACE,4BACE,uCACA,4CACA,oCACA,sCACA,wBAAIU,MAAO,CAAE,MAAS,UAAtB,QACA,wBAAIA,MAAO,CAAE,MAAS,SAAtB,SACA,wBAAIA,MAAO,CAAE,MAAS,SAAtB,SACA,wBAAIA,MAAO,CAAE,MAAS,aAI1B,+BAEGZ,EAASzB,KAAI,SAACZ,EAAMa,GAAP,MACE,SAAdb,EAAK2C,KACD,kBAAC,EAAD,CAAM9D,KAAMmB,EAAMc,IAAKD,IACvB,kBAAC,EAAD,CAASqB,QAASlC,EAAMc,IAAKD,WCmH9ByB,EA7KC,CACdnC,KAAM,WAENkC,SAAU,CACR,CAAEM,KAAM,UAAWxC,KAAM,qDACzB,CACEwC,KAAM,OAAQzC,SAAU,gBAAiBpB,OAAQ,EAAGP,KAAM,CACxDY,GAAI,IACJgB,KAAM,2BACN+C,WAAY,aACZC,KAAM,GACN/C,YAAa,CACXjB,GAAI,GACJgB,KAAM,aAERiD,SAAU,CACRjE,GAAI,IACJgB,KAAM,eAERkD,SAAU,CACR,CAAElD,KAAM,QAASkB,MAAO,KAAMiC,MAAO,GAAIC,OAAQ,GACjD,CAAEpD,KAAM,UAAWkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,MACpD,CAAEpD,KAAM,aAAckB,MAAO,GAAIiC,MAAO,IAAKC,OAAQ,GACrD,CAAEpD,KAAM,aAAckB,MAAO,UAAWiC,MAAO,GAAIC,OAAQ,GAC3D,CAAEpD,KAAM,UAAWkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,GACpD,CAAEpD,KAAM,SAAUkB,MAAO,GAAIiC,MAAO,KAAMC,OAAQ,GAClD,CAAEpD,KAAM,MAAOkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,IAElDC,QAAS,CACP,CAAErE,GAAI,EAAGgB,KAAM,OAAQF,IAAK,KAC5B,CAAEd,GAAI,GAAIgB,KAAM,OAAQF,IAAK,KAE/BwD,SAAU,IACVzE,UAAW,CACT,CAAEiB,IAAK,EAAGX,UAAW,IACrB,CAAEW,IAAK,GAAIX,UAAW,IACtB,CAAEW,IAAK,GAAIX,UAAW,KAExBoE,SAAU,GACVC,WAAY,CACV,CAAEC,KAAM,aAAc3D,IAAK,IAAKX,UAAW,GAC3C,CAAEsE,KAAM,aAAc3D,IAAK,IAAKX,UAAW,KAE7CP,SAAU,IAGd,CACE4D,KAAM,OAAQzC,SAAU,iBAAkBpB,OAAQ,GAAIP,KAAM,CAC1DY,GAAI,IACJgB,KAAM,2BACN+C,WAAY,aACZC,KAAM,KACN/C,YAAa,CACXjB,GAAI,GACJgB,KAAM,aAERiD,SAAU,CACRjE,GAAI,IACJgB,KAAM,eAERkD,SAAU,CACR,CAAElD,KAAM,QAASkB,MAAO,KAAMiC,MAAO,GAAIC,OAAQ,GACjD,CAAEpD,KAAM,UAAWkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,MACpD,CAAEpD,KAAM,aAAckB,MAAO,GAAIiC,MAAO,IAAKC,OAAQ,GACrD,CAAEpD,KAAM,aAAckB,MAAO,UAAWiC,MAAO,GAAIC,OAAQ,GAC3D,CAAEpD,KAAM,UAAWkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,GACpD,CAAEpD,KAAM,SAAUkB,MAAO,GAAIiC,MAAO,KAAMC,OAAQ,GAClD,CAAEpD,KAAM,MAAOkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,IAElDC,QAAS,CACP,CAAErE,GAAI,EAAGgB,KAAM,OAAQF,IAAK,KAC5B,CAAEd,GAAI,GAAIgB,KAAM,OAAQF,IAAK,KAE/BwD,SAAU,IACVzE,UAAW,CACT,CAAEiB,IAAK,EAAGX,UAAW,IACrB,CAAEW,IAAK,GAAIX,UAAW,IACtB,CAAEW,IAAK,GAAIX,UAAW,KAExBoE,SAAU,GACVC,WAAY,CACV,CAAEC,KAAM,aAAc3D,IAAK,IAAKX,UAAW,GAC3C,CAAEsE,KAAM,aAAc3D,IAAK,IAAKX,UAAW,KAE7CP,SAAU,IAGd,CAAE4D,KAAM,UAAWxC,KAAM,2CACzB,CACEwC,KAAM,OAAQzC,SAAU,WAAYpB,OAAQ,GAAIP,KAAM,CACpDY,GAAI,IACJgB,KAAM,+BACN+C,WAAY,kBACZC,KAAM,GACN/C,YAAa,CACXjB,GAAI,GACJgB,KAAM,SAERiD,SAAU,CACRjE,GAAI,IACJgB,KAAM,eAERkD,SAAU,CACR,CAAElD,KAAM,QAASkB,MAAO,KAAMiC,MAAO,GAAIC,OAAQ,GACjD,CAAEpD,KAAM,UAAWkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,MACpD,CAAEpD,KAAM,aAAckB,MAAO,GAAIiC,MAAO,IAAKC,OAAQ,GACrD,CAAEpD,KAAM,aAAckB,MAAO,UAAWiC,MAAO,GAAIC,OAAQ,GAC3D,CAAEpD,KAAM,UAAWkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,GACpD,CAAEpD,KAAM,SAAUkB,MAAO,GAAIiC,MAAO,KAAMC,OAAQ,GAClD,CAAEpD,KAAM,MAAOkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,IAElDC,QAAS,CACP,CAAErE,GAAI,EAAGgB,KAAM,OAAQF,IAAK,KAC5B,CAAEd,GAAI,GAAIgB,KAAM,OAAQF,IAAK,KAE/BwD,SAAU,IACVzE,UAAW,CACT,CAAEiB,IAAK,EAAGX,UAAW,IACrB,CAAEW,IAAK,GAAIX,UAAW,IACtB,CAAEW,IAAK,GAAIX,UAAW,KAExBoE,SAAU,GACVC,WAAY,CACV,CAAEC,KAAM,aAAc3D,IAAK,IAAKX,UAAW,GAC3C,CAAEsE,KAAM,aAAc3D,IAAK,IAAKX,UAAW,KAE7CP,SAAU,IAGd,CACE4D,KAAM,OAAQzC,SAAU,iBAAkBpB,OAAQ,EAAGP,KAAM,CACzDY,GAAI,IACJgB,KAAM,gCACN+C,WAAY,mBACZC,KAAM,KACN/C,YAAa,CACXjB,GAAI,GACJgB,KAAM,SAERiD,SAAU,CACRjE,GAAI,IACJgB,KAAM,aAERkD,SAAU,CACR,CAAElD,KAAM,QAASkB,MAAO,KAAMiC,MAAO,GAAIC,OAAQ,GACjD,CAAEpD,KAAM,UAAWkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,MACpD,CAAEpD,KAAM,aAAckB,MAAO,GAAIiC,MAAO,IAAKC,OAAQ,GACrD,CAAEpD,KAAM,aAAckB,MAAO,UAAWiC,MAAO,GAAIC,OAAQ,GAC3D,CAAEpD,KAAM,UAAWkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,GACpD,CAAEpD,KAAM,SAAUkB,MAAO,GAAIiC,MAAO,KAAMC,OAAQ,GAClD,CAAEpD,KAAM,MAAOkB,MAAO,IAAKiC,MAAO,KAAMC,OAAQ,IAElDC,QAAS,CACP,CAAErE,GAAI,EAAGgB,KAAM,OAAQF,IAAK,KAC5B,CAAEd,GAAI,GAAIgB,KAAM,OAAQF,IAAK,KAE/BwD,SAAU,IACVzE,UAAW,CACT,CAAEiB,IAAK,EAAGX,UAAW,IACrB,CAAEW,IAAK,GAAIX,UAAW,IACtB,CAAEW,IAAK,GAAIX,UAAW,KAExBoE,SAAU,GACVC,WAAY,CACV,CAAEC,KAAM,aAAc3D,IAAK,IAAKX,UAAW,GAC3C,CAAEsE,KAAM,aAAc3D,IAAK,IAAKX,UAAW,KAE7CP,SAAU,MChKH,4BACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAS8E,KAAK,SACd,kBAAC,IAAD,KAEE,kBAAC,EAAD,CAAUvB,QAASA,Q,qBCXzBtE,EAAOC,QAAU,CAAC,MAAQ,4BAA4B,IAAM,0BAA0B,OAAS,6BAA6B,KAAO,2BAA2B,QAAU,8BAA8B,QAAU","file":"component---src-pages-partlist-js-812c3d24383c14c3cd85.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"info\":\"PartList-module--info--1okeh\",\"projectImage\":\"PartList-module--projectImage--3_duC\",\"projectData\":\"PartList-module--projectData--1wlou\",\"price\":\"PartList-module--price--FUD9-\",\"row\":\"PartList-module--row--3FklZ\",\"asmQnt\":\"PartList-module--asmQnt--83ADG\",\"item\":\"PartList-module--item--2lLqN\",\"control\":\"PartList-module--control--2rMVc\",\"buttons\":\"PartList-module--buttons--O7XBv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"caption\":\"Caption-module--caption--3luev\"};","module.exports = __webpack_public_path__ + \"static/psl-3604_view-a67fe8362f197679ae7fba270ec5fd37.jpg\";","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Icon, InputNumber, Button, IconButton, Notification } from 'rsuite';\r\nimport { addToCart, refreshCart, deleteFromCart } from '../../store/cart/actions';\r\nimport css from './Part.module.css';\r\n\r\nconst Part = ({ cart, part, onAddToCart, onRefreshCart, onDeleteFromCart }) => {\r\n\r\n  const { comp, asmQnt } = part;\r\n  const { minOrder, sellPrice } = comp;\r\n\r\n  const product = cart.find(product => product.id === comp.id);\r\n\r\n  const initialState = {\r\n    orderQnt: product ? product.orderQnt : 0,\r\n    unitPrice: product ? product.unitPrice : 0,\r\n    totalPrice: product ? product.totalPrice : 0,\r\n    inCart: !!product,\r\n  }\r\n\r\n  const [state, setState] = useState(initialState);\r\n\r\n  const btnAddToCartClick = () => {\r\n    if (state.orderQnt > 0) {\r\n      const inCart = true;\r\n      // setTimeout(() => {\r\n        setState(state => ({ ...state, inCart }));\r\n        onAddToCart({ ...comp, ...state, inCart });\r\n        // Notification.success({\r\n        //   title: \"success\",\r\n        //   description: 'sdfsfsf'\r\n        // })\r\n      // }, 300);\r\n    }\r\n  }\r\n\r\n  const btnRefreshCart = () => {\r\n    if (state.orderQnt > 0)\r\n      onRefreshCart({ ...comp, ...state });\r\n  };\r\n\r\n  const btnDeleteFromCart = () => {\r\n    const orderQnt = 0;\r\n    const unitPrice = 0;\r\n    const totalPrice = 0;\r\n    const inCart = false;\r\n    setState({ orderQnt, unitPrice, totalPrice, inCart });\r\n    onDeleteFromCart(comp);\r\n  }\r\n\r\n  const getPrice = (orderQnt) => {\r\n    if (orderQnt <= 0) return 0;\r\n    let unitPrice = sellPrice[0].unitPrice;\r\n    sellPrice.forEach(item => {\r\n      if (orderQnt >= item.qnt) unitPrice = item.unitPrice;\r\n    });\r\n    return unitPrice;\r\n  }\r\n\r\n  const qntClick = (index) => {\r\n    const orderQnt = sellPrice[index].qnt;\r\n    const unitPrice = sellPrice[index].unitPrice;\r\n    const totalPrice = orderQnt * unitPrice;\r\n    setState(state => ({ ...state, orderQnt, unitPrice, totalPrice }))\r\n  }\r\n\r\n  const asmQntClick = () => {\r\n    const orderQnt = asmQnt;\r\n    const unitPrice = getPrice(orderQnt);\r\n    const totalPrice = orderQnt * unitPrice;\r\n    setState(state => ({ ...state, orderQnt, unitPrice, totalPrice }))\r\n  }\r\n\r\n  const onChangeHandler = (value) => {\r\n    const orderQnt = (+value <= 0) ? 0 : +value\r\n    const unitPrice = getPrice(orderQnt);\r\n    const totalPrice = orderQnt * unitPrice;\r\n    setState(state => ({ ...state, orderQnt, unitPrice, totalPrice }));\r\n  }\r\n\r\n  const onBlurHandler = (event) => {\r\n    const value = +event.target.value;\r\n    const orderQnt = Math.ceil(value / minOrder) * minOrder;\r\n    const unitPrice = getPrice(orderQnt);\r\n    const totalPrice = orderQnt * unitPrice;\r\n    setState(state => ({ ...state, orderQnt, unitPrice, totalPrice }));\r\n  }\r\n\r\n  const showAddButton = () => (\r\n    <td>\r\n      <Button size='sm' appearance=\"primary\" onClick={btnAddToCartClick}>\r\n        В корзину\r\n      </Button>\r\n    </td>\r\n  )\r\n\r\n  const showRefreshButton = () => (\r\n    <td>\r\n      <div className={css.buttons}>\r\n        <IconButton onClick={btnRefreshCart} size='sm' color=\"green\" icon={<Icon icon=\"refresh\" />} />\r\n        <IconButton onClick={btnDeleteFromCart} size='sm' color=\"red\" icon={<Icon icon=\"close\" />} />\r\n      </div>\r\n    </td>\r\n  )\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n        {part.position}\r\n      </td>\r\n\r\n      <td>\r\n        <div>{comp.name}</div>\r\n        <div>{comp.manufacture.name}</div>\r\n      </td>\r\n\r\n      <td>\r\n        <Icon icon=\"cog\" size=\"lg\" />\r\n      </td>\r\n\r\n      <td>\r\n        <div className={css.asmQnt} onClick={asmQntClick}>\r\n          {asmQnt}\r\n        </div>\r\n      </td>\r\n\r\n      <td className={css.price}>\r\n        {sellPrice.map((item, index) => (\r\n          <div key={index} className={css.row}>\r\n            <div className={css.item} onClick={() => qntClick(index)}>{`${item.qnt}+`}</div>\r\n            <div>{`${item.unitPrice.toFixed(2)} р`}</div>\r\n          </div>\r\n        ))}\r\n      </td>\r\n\r\n      <td className={css.control}>\r\n        <InputNumber\r\n          size='sm'\r\n          step={minOrder}\r\n          value={state.orderQnt}\r\n          onChange={onChangeHandler}\r\n          onBlur={onBlurHandler} />\r\n      </td>\r\n\r\n      <td>\r\n        {state.totalPrice} p\r\n      </td>\r\n\r\n      {state.inCart ? showRefreshButton() : showAddButton()}\r\n\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    cart: state.cart,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onAddToCart: comp => dispatch(addToCart(comp)),\r\n    onRefreshCart: comp => dispatch(refreshCart(comp)),\r\n    onDeleteFromCart: comp => dispatch(deleteFromCart(comp)),\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Part);\r\n","import React from 'react';\r\nimport css from './Caption.module.css';\r\n\r\nconst Caption = ({ caption }) => (\r\n  <tr>\r\n    <td className={css.caption} colSpan='8'>{caption.name}</td>\r\n  </tr>\r\n);\r\n\r\nexport default Caption;\r\n","import React from 'react';\r\nimport Part from '../Part/Part';\r\nimport Caption from '../Caption/Caption';\r\nimport src from '../../images/projects/psl-3604/psl-3604_view.jpg';\r\nimport css from './PartList.module.css';\r\n\r\nconst PartList = ({ project }) => {\r\n\r\n  const { partlist } = project;\r\n\r\n  const getPrice = (asmQnt, sellPrice) => {\r\n    let unitPrice = sellPrice[0].unitPrice;\r\n    sellPrice.forEach(item => {\r\n      if (asmQnt >= item.qnt) unitPrice = item.unitPrice;\r\n    });\r\n    return unitPrice;\r\n  }\r\n\r\n  const kitPrice = partlist.reduce((acc, val) => {\r\n    if (val.type === \"caption\") return acc + 0;\r\n    const { asmQnt } = val;\r\n    const { sellPrice } = val.comp;\r\n    const price = getPrice(asmQnt, sellPrice)\r\n    const totalCompPrice = asmQnt * price;\r\n    return acc + totalCompPrice;\r\n  }, 0);\r\n\r\n  return (\r\n    <>\r\n      <div className={css.info}>\r\n        <img className={css.projectImage} src={src} alt=\"\" />\r\n        <div className={css.projectData}>\r\n          <h5>Блок питания PSL-3604</h5>\r\n          <div>Описание</div>\r\n          <div>Документация</div>\r\n          <div>PCBWay</div>\r\n          <div>Стоимость кита: {kitPrice} р</div>\r\n        </div>\r\n      </div>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>Позиция</th>\r\n            <th>Наименование</th>\r\n            <th>Инфо</th>\r\n            <th>Кол-во</th>\r\n            <th style={{ \"width\": \"100px\" }}>Цена</th>\r\n            <th style={{ \"width\": \"85px\" }}>Заказ</th>\r\n            <th style={{ \"width\": \"60px\" }}>Сумма</th>\r\n            <th style={{ \"width\": \"105px\" }}></th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n\r\n          {partlist.map((item, index) => (\r\n            item.type === 'part'\r\n              ? <Part part={item} key={index} />\r\n              : <Caption caption={item} key={index} />\r\n          ))}\r\n\r\n        </tbody>\r\n      </table>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PartList;\r\n","const project = {\r\n  name: 'PSL-3604',\r\n  \r\n  partlist: [\r\n    { type: 'caption', name: 'Конденсаторы SMD 0805 Yageo CC0805 (кратно 10 шт)' },\r\n    {\r\n      type: 'part', position: 'OUT: C33, C34', asmQnt: 2, comp: {\r\n        id: 100,\r\n        name: 'Panasonic FC 100uF x 16V',\r\n        partNumber: 'EEUFC1C101',\r\n        body: '',\r\n        manufacture: {\r\n          id: 12,\r\n          name: 'Panasonic'\r\n        },\r\n        category: {\r\n          id: 123,\r\n          name: 'Электролиты',\r\n        },\r\n        techData: [\r\n          { name: 'Серия', value: 'FC', units: '', factor: 0 },\r\n          { name: 'Емкость', value: 100, units: 'uF', factor: 1e-6 },\r\n          { name: 'Напряжение', value: 16, units: 'V', factor: 0 },\r\n          { name: 'Полярность', value: 'Bipolar', units: '', factor: 0 },\r\n          { name: 'Диаметр', value: 6.3, units: 'мм', factor: 0 },\r\n          { name: 'Высота', value: 12, units: 'мм', factor: 0 },\r\n          { name: 'Шаг', value: 2.5, units: 'мм', factor: 0 },\r\n        ],\r\n        storaqe: [\r\n          { id: 1, name: 'C-23', qnt: 230 },\r\n          { id: 23, name: 'B-29', qnt: 12 },\r\n        ],\r\n        stockQnt: 242,\r\n        sellPrice: [\r\n          { qnt: 1, unitPrice: 20 },\r\n          { qnt: 10, unitPrice: 15 },\r\n          { qnt: 25, unitPrice: 10 },\r\n        ],\r\n        buyPrice: 40,\r\n        priceStory: [\r\n          { date: '12-03-2007', qnt: 100, unitPrice: 1 },\r\n          { date: '12-03-2007', qnt: 100, unitPrice: 10 },\r\n        ],\r\n        minOrder: 1,\r\n      }\r\n    },\r\n    {\r\n      type: 'part', position: 'OUT: C22...C34', asmQnt: 12, comp: {\r\n        id: 200,\r\n        name: 'Panasonic FC 220uF x 16V',\r\n        partNumber: 'EEUFC1C101',\r\n        body: 'TH',\r\n        manufacture: {\r\n          id: 12,\r\n          name: 'Panasonic'\r\n        },\r\n        category: {\r\n          id: 123,\r\n          name: 'Электролиты',\r\n        },\r\n        techData: [\r\n          { name: 'Серия', value: 'FC', units: '', factor: 0 },\r\n          { name: 'Емкость', value: 220, units: 'uF', factor: 1e-6 },\r\n          { name: 'Напряжение', value: 16, units: 'V', factor: 0 },\r\n          { name: 'Полярность', value: 'Bipolar', units: '', factor: 0 },\r\n          { name: 'Диаметр', value: 6.3, units: 'мм', factor: 0 },\r\n          { name: 'Высота', value: 12, units: 'мм', factor: 0 },\r\n          { name: 'Шаг', value: 2.5, units: 'мм', factor: 0 },\r\n        ],\r\n        storaqe: [\r\n          { id: 1, name: 'C-23', qnt: 230 },\r\n          { id: 23, name: 'B-29', qnt: 12 },\r\n        ],\r\n        stockQnt: 242,\r\n        sellPrice: [\r\n          { qnt: 1, unitPrice: 20 },\r\n          { qnt: 10, unitPrice: 15 },\r\n          { qnt: 25, unitPrice: 10 },\r\n        ],\r\n        buyPrice: 40,\r\n        priceStory: [\r\n          { date: '12-03-2007', qnt: 100, unitPrice: 1 },\r\n          { date: '12-03-2007', qnt: 100, unitPrice: 10 },\r\n        ],\r\n        minOrder: 1,\r\n      }\r\n    },\r\n    { type: 'caption', name: 'Резисторы SMD 1206 Yageo (кратно 10 шт)' },\r\n    {\r\n      type: 'part', position: 'R22, R23', asmQnt: 22, comp: {\r\n        id: 300,\r\n        name: 'RES SMD 22k Ohm 1% 1/4W 1206',\r\n        partNumber: 'RC1206FR-0722KL',\r\n        body: '',\r\n        manufacture: {\r\n          id: 12,\r\n          name: 'Yageo'\r\n        },\r\n        category: {\r\n          id: 123,\r\n          name: 'Электролиты',\r\n        },\r\n        techData: [\r\n          { name: 'Серия', value: 'FC', units: '', factor: 0 },\r\n          { name: 'Емкость', value: 100, units: 'uF', factor: 1e-6 },\r\n          { name: 'Напряжение', value: 16, units: 'V', factor: 0 },\r\n          { name: 'Полярность', value: 'Bipolar', units: '', factor: 0 },\r\n          { name: 'Диаметр', value: 6.3, units: 'мм', factor: 0 },\r\n          { name: 'Высота', value: 12, units: 'мм', factor: 0 },\r\n          { name: 'Шаг', value: 2.5, units: 'мм', factor: 0 },\r\n        ],\r\n        storaqe: [\r\n          { id: 1, name: 'C-23', qnt: 230 },\r\n          { id: 23, name: 'B-29', qnt: 12 },\r\n        ],\r\n        stockQnt: 242,\r\n        sellPrice: [\r\n          { qnt: 1, unitPrice: 20 },\r\n          { qnt: 10, unitPrice: 15 },\r\n          { qnt: 25, unitPrice: 10 },\r\n        ],\r\n        buyPrice: 40,\r\n        priceStory: [\r\n          { date: '12-03-2007', qnt: 100, unitPrice: 1 },\r\n          { date: '12-03-2007', qnt: 100, unitPrice: 10 },\r\n        ],\r\n        minOrder: 1,\r\n      }\r\n    },\r\n    {\r\n      type: 'part', position: 'R17, R18 - R20', asmQnt: 3, comp: {\r\n        id: 400,\r\n        name: 'RES SMD 100k Ohm 1% 1/4W 1206',\r\n        partNumber: 'RC1206FR-07100KL',\r\n        body: 'TH',\r\n        manufacture: {\r\n          id: 12,\r\n          name: 'Yageo'\r\n        },\r\n        category: {\r\n          id: 123,\r\n          name: 'Резисторы',\r\n        },\r\n        techData: [\r\n          { name: 'Серия', value: 'FC', units: '', factor: 0 },\r\n          { name: 'Емкость', value: 220, units: 'uF', factor: 1e-6 },\r\n          { name: 'Напряжение', value: 16, units: 'V', factor: 0 },\r\n          { name: 'Полярность', value: 'Bipolar', units: '', factor: 0 },\r\n          { name: 'Диаметр', value: 6.3, units: 'мм', factor: 0 },\r\n          { name: 'Высота', value: 12, units: 'мм', factor: 0 },\r\n          { name: 'Шаг', value: 2.5, units: 'мм', factor: 0 },\r\n        ],\r\n        storaqe: [\r\n          { id: 1, name: 'C-23', qnt: 230 },\r\n          { id: 23, name: 'B-29', qnt: 12 },\r\n        ],\r\n        stockQnt: 242,\r\n        sellPrice: [\r\n          { qnt: 1, unitPrice: 20 },\r\n          { qnt: 10, unitPrice: 15 },\r\n          { qnt: 25, unitPrice: 10 },\r\n        ],\r\n        buyPrice: 40,\r\n        priceStory: [\r\n          { date: '12-03-2007', qnt: 100, unitPrice: 1 },\r\n          { date: '12-03-2007', qnt: 100, unitPrice: 10 },\r\n        ],\r\n        minOrder: 1,\r\n      }\r\n    },\r\n  ]\r\n}\r\n\r\nexport default project;","import React from 'react';\r\nimport Layout from '../layout/template/layout';\r\nimport Sidebar from '../layout/sidebar/sidebar';\r\nimport Content from '../layout/content/content';\r\nimport PartList from '../components/PartList/PartList';\r\nimport project from '../data/database/partlist';\r\n\r\nexport default () => (\r\n  <Layout>\r\n    <Sidebar side='left'></Sidebar>\r\n    <Content>\r\n\r\n      <PartList project={project}/>      \r\n\r\n    </Content>\r\n  </Layout>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"price\":\"Part-module--price--2rT8r\",\"row\":\"Part-module--row--75l2a\",\"asmQnt\":\"Part-module--asmQnt--1eKMm\",\"item\":\"Part-module--item--3SDi3\",\"control\":\"Part-module--control--3Qf-b\",\"buttons\":\"Part-module--buttons--3hMEy\"};"],"sourceRoot":""}