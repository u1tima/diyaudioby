(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Coum:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),c=n("ra4U"),i=n("758n"),u=n("ibge"),o=(n("v9g0"),n("/MKj")),l=(n("pJf4"),n("E5k/"),n("QxVw")),m=n("Ny2c"),s=n("Ix92"),f=n("DIrH"),d=n("Ni52"),P=n("Ge9Y"),v=n.n(P),E=Object(o.b)((function(e){return{cart:e.cart}}),(function(e){return{onAddToCart:function(t){return e(Object(d.a)(t))},onRefreshCart:function(t){return e(Object(d.c)(t))},onDeleteFromCart:function(t){return e(Object(d.b)(t))}}}))((function(e){var t=e.cart,n=e.comp,c=e.onAddToCart,i=e.onRefreshCart,u=e.onDeleteFromCart,o=n.minOrder,d=n.sellPrice,P=n.partNumber,E=n.manufacture,C=n.techData,p=n.stockQnt,b=t.find((function(e){return e.id===n.id})),F=0!==p,h={orderQnt:b?b.orderQnt:0,unitPrice:b?b.unitPrice:0,totalPrice:b?b.totalPrice:0,inCart:!!b},y=Object(a.useState)(h),q=y[0],Q=y[1],k=function(){if(q.orderQnt>0){Q((function(e){return Object.assign({},e,{inCart:!0})})),c(Object.assign({},n,{},q,{inCart:!0}))}},O=function(){q.orderQnt>0&&i(Object.assign({},n,{},q))},g=function(){Q({orderQnt:0,unitPrice:0,totalPrice:0,inCart:!1}),u(n)},N=function(e){if(e<=0)return 0;var t=d[0].unitPrice;return d.forEach((function(n){e>=n.qnt&&(t=n.unitPrice)})),t};return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("div",null,P),r.a.createElement("div",null,E.name)),C.map((function(e,t){return r.a.createElement("td",{key:t},e.value)})),r.a.createElement("td",{className:v.a.price},d.map((function(e,t){return r.a.createElement("div",{key:t,className:v.a.row},r.a.createElement("div",{className:v.a.item,onClick:function(){return function(e){var t=d[e].qnt,n=d[e].unitPrice,a=t*n;Q((function(e){return Object.assign({},e,{orderQnt:t,unitPrice:n,totalPrice:a})}))}(t)}},e.qnt+"+"),r.a.createElement("div",null,e.unitPrice.toFixed(2)+" р"))}))),r.a.createElement("td",{className:v.a.control},r.a.createElement(f.a,{size:"sm",step:o,value:q.orderQnt,onChange:function(e){var t=+e<=0?0:+e,n=N(t),a=t*n;Q((function(e){return Object.assign({},e,{orderQnt:t,unitPrice:n,totalPrice:a})}))},onBlur:function(e){var t=+e.target.value,n=Math.ceil(t/o)*o,a=N(n),r=n*a;Q((function(e){return Object.assign({},e,{orderQnt:n,unitPrice:a,totalPrice:r})}))}})),r.a.createElement("td",null,q.totalPrice," p"),q.inCart?r.a.createElement("td",null,r.a.createElement("div",{className:v.a.buttons},r.a.createElement(m.a,{onClick:O,size:"sm",color:"green",icon:r.a.createElement(s.a,{icon:"refresh"})}),r.a.createElement(m.a,{onClick:g,size:"sm",color:"red",icon:r.a.createElement(s.a,{icon:"close"})}))):r.a.createElement("td",null,r.a.createElement(l.a,{size:"sm",appearance:"primary",disabled:F,onClick:k},"В корзину")))})),C=(n("WoH/"),Object(o.b)((function(e){return{cart:e.cart}}))((function(e){var t=e.cart,n=e.list,a=e.cols,c=n.map((function(e){var n=t.find((function(t){return t.id===e.id}));return n||e}));return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"PartNumber"),a.map((function(e,t){return r.a.createElement("th",{key:t},e)})),r.a.createElement("th",{style:{width:"100px"}},"Цена"),r.a.createElement("th",{style:{width:"85px"}},"Заказ"),r.a.createElement("th",{style:{width:"60px"}},"Сумма"),r.a.createElement("th",{style:{width:"105px"}}))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement(E,{key:e.id,comp:e})}))))}))),p=[{id:10,name:"Panasonic FC 100uF x 16V",partNumber:"EEUFC1C101",body:"",manufacture:{id:12,name:"Panasonic"},category:{id:123,name:"Электролиты"},techData:[{name:"Серия",value:"FC",units:"",factor:0},{name:"Емкость",value:100,units:"uF",factor:1e-6},{name:"Напряжение",value:16,units:"V",factor:0},{name:"Диаметр",value:6.3,units:"мм",factor:0},{name:"Высота",value:12,units:"мм",factor:0},{name:"Шаг",value:2.5,units:"мм",factor:0}],stockQnt:0,sellPrice:[{qnt:1,unitPrice:1},{qnt:2,unitPrice:5},{qnt:3,unitPrice:10}],minOrder:10},{id:20,name:"Panasonic FC 220uF x 50V",partNumber:"EEUFC1H221",body:"",manufacture:{id:12,name:"Panasonic"},category:{id:123,name:"Электролиты"},techData:[{name:"Серия",value:"FC",units:"",factor:0},{name:"Емкость",value:220,units:"uF",factor:1e-6},{name:"Напряжение",value:50,units:"V",factor:0},{name:"Диаметр",value:10,units:"mm",factor:0},{name:"Высота",value:20,units:"mm",factor:0},{name:"Шаг",value:5,units:"mm",factor:0}],stockQnt:242,sellPrice:[{qnt:4,unitPrice:10},{qnt:5,unitPrice:8},{qnt:6,unitPrice:5}],minOrder:10},{id:30,name:"Panasonic FC 470uF x 35V",partNumber:"EEUFC1V471B",body:"",manufacture:{id:12,name:"Panasonic"},category:{id:123,name:"Электролиты"},techData:[{name:"Серия",value:"FC",units:"",factor:0},{name:"Емкость",value:470,units:"uF",factor:1e-6},{name:"Напряжение",value:35,units:"V",factor:0},{name:"Диаметр",value:10,units:"мм",factor:.001},{name:"Высота",value:22,units:"мм",factor:.001},{name:"Шаг",value:5,units:"мм",factor:.001}],stockQnt:242,sellPrice:[{qnt:7,unitPrice:10},{qnt:8,unitPrice:8},{qnt:9,unitPrice:5}],minOrder:10},{id:40,name:"Panasonic FC 1000uF x 50V",partNumber:"EEUFC1H102",body:"",manufacture:{id:12,name:"Panasonic"},category:{id:123,name:"Электролиты"},techData:[{name:"Серия",value:"FC",units:"",factor:0},{name:"Емкость",value:1e3,units:"uF",factor:1e-6},{name:"Напряжение",value:50,units:"V",factor:0},{name:"Диаметр",value:16,units:"мм",factor:.001},{name:"Высота",value:25,units:"мм",factor:.001},{name:"Шаг",value:7.5,units:"мм",factor:.001}],stockQnt:242,sellPrice:[{qnt:10,unitPrice:10},{qnt:11,unitPrice:8},{qnt:12,unitPrice:5}],minOrder:10},{id:50,name:"Panasonic FC 4700uF x 16V",partNumber:"EEUFC1C472",body:"",manufacture:{id:12,name:"Panasonic"},category:{id:123,name:"Электролиты"},techData:[{name:"Серия",value:"FC",units:"",factor:0},{name:"Емкость",value:4700,units:"uF",factor:1e-6},{name:"Напряжение",value:16,units:"V",factor:0},{name:"Диаметр",value:16,units:"мм",factor:.001},{name:"Высота",value:32,units:"мм",factor:.001},{name:"Шаг",value:7.5,units:"мм",factor:.001}],stockQnt:0,sellPrice:[{qnt:13,unitPrice:10},{qnt:14,unitPrice:8},{qnt:15,unitPrice:5}],minOrder:10}];t.default=function(){return r.a.createElement(c.a,null,r.a.createElement(i.a,{side:"left"}),r.a.createElement(u.a,null,r.a.createElement("h4",null,"Component List"),r.a.createElement(C,{list:p,cols:["Series","Cap","Volt","D","H","LS"]})))}},Ge9Y:function(e,t,n){e.exports={price:"Comp-module--price--3bAX7",row:"Comp-module--row--kl5tl",asmQnt:"Comp-module--asmQnt--1uffu",item:"Comp-module--item--1AP26",control:"Comp-module--control--20TQp",buttons:"Comp-module--buttons--9yuvN"}},"WoH/":function(e,t,n){}}]);
//# sourceMappingURL=component---src-pages-complist-js-1b156c507bef3e0e4a85.js.map